"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.walkAndReplace = void 0;
/**
 * @hidden
 */
function walkAndReplace(value, options, pointer) {
    if (pointer === void 0) { pointer = []; }
    if (options.beforeWalk) {
        value = options.beforeWalk(value, pointer);
    }
    if (Array.isArray(value)) {
        var newValue = [];
        for (var i = 0; i < value.length; i++) {
            var entryValue = value[i];
            entryValue = walkAndReplace(entryValue, options, pointer.concat("" + i));
            newValue.push(entryValue);
        }
        value = newValue;
    }
    else if (typeof value === 'object' && value !== null) {
        var newValue = {};
        var keys = Object.keys(value);
        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
            var entryKey = keys_1[_i];
            var entryValue = value[entryKey];
            entryValue = walkAndReplace(entryValue, options, pointer.concat(entryKey));
            newValue[entryKey] = entryValue;
        }
        value = newValue;
    }
    if (options.afterWalk) {
        value = options.afterWalk(value, pointer);
    }
    return value;
}
exports.walkAndReplace = walkAndReplace;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSnNvbldhbGtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbHMvSnNvbldhbGtlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFRQTs7R0FFRztBQUNILFNBQWdCLGNBQWMsQ0FDNUIsS0FBVSxFQUNWLE9BQThCLEVBQzlCLE9BQXNCO0lBQXRCLHdCQUFBLEVBQUEsWUFBc0I7SUFFdEIsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO1FBQ3RCLEtBQUssR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztLQUM1QztJQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN4QixJQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDckMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLFVBQVUsR0FBRyxjQUFjLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUcsQ0FBRyxDQUFDLENBQUMsQ0FBQztZQUN6RSxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsS0FBSyxHQUFHLFFBQVEsQ0FBQztLQUNsQjtTQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUU7UUFDdEQsSUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsS0FBdUIsVUFBSSxFQUFKLGFBQUksRUFBSixrQkFBSSxFQUFKLElBQUksRUFBRTtZQUF4QixJQUFNLFFBQVEsYUFBQTtZQUNqQixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakMsVUFBVSxHQUFHLGNBQWMsQ0FDekIsVUFBVSxFQUNWLE9BQU8sRUFDUCxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUN6QixDQUFDO1lBQ0YsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztTQUNqQztRQUNELEtBQUssR0FBRyxRQUFRLENBQUM7S0FDbEI7SUFFRCxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7UUFDckIsS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzNDO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBckNELHdDQXFDQyJ9