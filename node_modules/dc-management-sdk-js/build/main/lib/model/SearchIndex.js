"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.SearchIndexesPage = exports.SearchIndex = void 0;
var HalResource_1 = require("../hal/models/HalResource");
var AssignedContentType_1 = require("./AssignedContentType");
var Page_1 = require("./Page");
var SearchIndexKey_1 = require("./SearchIndexKey");
var SearchIndexSettings_1 = require("./SearchIndexSettings");
var SearchIndexStatistics_1 = require("./SearchIndexStatistics");
var SearchIndexTopHits_1 = require("./SearchIndexTopHits");
var SearchIndexTopSearches_1 = require("./SearchIndexTopSearches");
var SearchIndexSearchesWithNoResults_1 = require("./SearchIndexSearchesWithNoResults");
var SearchIndexTopFiltersNoResultSearch_1 = require("./SearchIndexTopFiltersNoResultSearch");
var SearchIndexUsersCount_1 = require("./SearchIndexUsersCount");
var SearchIndexSearchesCount_1 = require("./SearchIndexSearchesCount");
var SearchIndexNoResultsRate_1 = require("./SearchIndexNoResultsRate");
var Hub_1 = require("./Hub");
/**
 * Class representing an Algolia Search Index.
 */
var SearchIndex = /** @class */ (function (_super) {
    __extends(SearchIndex, _super);
    function SearchIndex() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Resources and actions related to a Search Index.
         */
        _this.related = {
            /**
             * Retrieves the Hub this search index is stored in
             */
            hub: function () { return _this.fetchLinkedResource('hub', {}, Hub_1.Hub); },
            clear: function () {
                return _this.performActionThatReturnsResource('clear', {}, {}, SearchIndex);
            },
            delete: function () { return _this.deleteResource(); },
            update: function (resource) {
                return _this.updateResource(resource, SearchIndex);
            },
            assignedContentTypes: {
                create: function (resource) {
                    return _this.createLinkedResource('create-assigned-content-types', {}, resource, AssignedContentType_1.AssignedContentType);
                },
                get: function (id) {
                    return _this.client.fetchResource(
                    // tslint:disable-next-line:no-string-literal
                    _this._links['self'].href + "/assigned-content-types/" + id, AssignedContentType_1.AssignedContentType);
                },
                list: function (options) {
                    return _this.fetchLinkedResource('assigned-content-types', { options: options }, AssignedContentType_1.AssignedContentTypePage);
                },
            },
            indexObject: {
                delete: function (id) {
                    // tslint:disable-next-line:no-string-literal
                    return _this.client.deleteResource(_this._links['self'].href + "/objects/" + id);
                },
            },
            keys: {
                get: function () {
                    return _this.fetchLinkedResource('hub-search-key', {}, SearchIndexKey_1.SearchIndexKey);
                },
            },
            replicas: {
                list: function (projection, options) {
                    return _this.fetchLinkedResource('list-replicas', { projection: projection, options: options }, SearchIndexesPage);
                },
            },
            settings: {
                get: function () {
                    return _this.fetchLinkedResource('settings', {}, SearchIndexSettings_1.SearchIndexSettings);
                },
                update: function (resource, forwardToReplicas) {
                    return _this.updateLinkedResource('update-settings', { forwardToReplicas: forwardToReplicas }, resource, SearchIndexSettings_1.SearchIndexSettings);
                },
            },
            stats: {
                get: function (period) {
                    return _this.fetchLinkedResource('stats', { period: period }, SearchIndexStatistics_1.SearchIndexStatistics);
                },
            },
            'top-searches': {
                get: function (_a) {
                    var _b = _a.clickAnalytics, clickAnalytics = _b === void 0 ? false : _b, orderBy = _a.orderBy, direction = _a.direction, startDate = _a.startDate, endDate = _a.endDate, limit = _a.limit, offset = _a.offset, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('top-searches', {
                        clickAnalytics: clickAnalytics,
                        direction: direction,
                        endDate: endDate,
                        limit: limit,
                        offset: offset,
                        orderBy: orderBy,
                        startDate: startDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexTopSearches_1.SearchIndexTopSearchesCollection);
                },
            },
            'top-hits': {
                get: function (_a) {
                    var search = _a.search, startDate = _a.startDate, endDate = _a.endDate, limit = _a.limit, offset = _a.offset, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('top-hits', {
                        endDate: endDate,
                        limit: limit,
                        offset: offset,
                        search: search,
                        startDate: startDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexTopHits_1.SearchIndexTopHitsCollection);
                },
            },
            'searches-with-no-results': {
                get: function (_a) {
                    var startDate = _a.startDate, endDate = _a.endDate, limit = _a.limit, offset = _a.offset, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('searches-with-no-results', {
                        endDate: endDate,
                        limit: limit,
                        offset: offset,
                        startDate: startDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexSearchesWithNoResults_1.SearchIndexSearchesWithNoResultsCollection);
                },
            },
            'top-filters-no-result-search': {
                get: function (_a) {
                    var search = _a.search, startDate = _a.startDate, endDate = _a.endDate, limit = _a.limit, offset = _a.offset, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('top-filters-no-result-search', {
                        endDate: endDate,
                        limit: limit,
                        offset: offset,
                        search: search,
                        startDate: startDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexTopFiltersNoResultSearch_1.SearchIndexTopFiltersNoResultSearchCollection);
                },
            },
            'users-count': {
                get: function (_a) {
                    var startDate = _a.startDate, endDate = _a.endDate, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('users-count', {
                        startDate: startDate,
                        endDate: endDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexUsersCount_1.SearchIndexUsersCount);
                },
            },
            'searches-count': {
                get: function (_a) {
                    var startDate = _a.startDate, endDate = _a.endDate, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('searches-count', {
                        startDate: startDate,
                        endDate: endDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexSearchesCount_1.SearchIndexSearchesCount);
                },
            },
            'no-results-rate': {
                get: function (_a) {
                    var startDate = _a.startDate, endDate = _a.endDate, tags = _a.tags, includeReplicas = _a.includeReplicas;
                    return _this.fetchLinkedResource('no-results-rate', {
                        startDate: startDate,
                        endDate: endDate,
                        tags: tags,
                        includeReplicas: includeReplicas,
                    }, SearchIndexNoResultsRate_1.SearchIndexNoResultsRate);
                },
            },
        };
        return _this;
    }
    return SearchIndex;
}(HalResource_1.HalResource));
exports.SearchIndex = SearchIndex;
/**
 * @hidden
 */
var SearchIndexesPage = /** @class */ (function (_super) {
    __extends(SearchIndexesPage, _super);
    function SearchIndexesPage(data) {
        return _super.call(this, 'indexes', SearchIndex, data) || this;
    }
    return SearchIndexesPage;
}(Page_1.Page));
exports.SearchIndexesPage = SearchIndexesPage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VhcmNoSW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL21vZGVsL1NlYXJjaEluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBd0Q7QUFDeEQsNkRBRytCO0FBQy9CLCtCQUE4QjtBQUU5QixtREFBa0Q7QUFDbEQsNkRBQTREO0FBQzVELGlFQUFnRTtBQUNoRSwyREFBb0U7QUFDcEUsbUVBR2tDO0FBRWxDLHVGQUFnRztBQUNoRyw2RkFBc0c7QUFDdEcsaUVBQWdFO0FBQ2hFLHVFQUFzRTtBQUN0RSx1RUFBc0U7QUFDdEUsNkJBQTRCO0FBRTVCOztHQUVHO0FBQ0g7SUFBaUMsK0JBQVc7SUFBNUM7UUFBQSxxRUFnVkM7UUFsU0M7O1dBRUc7UUFDYSxhQUFPLEdBQUc7WUFDeEI7O2VBRUc7WUFDSCxHQUFHLEVBQUUsY0FBb0IsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxTQUFHLENBQUMsRUFBeEMsQ0FBd0M7WUFFakUsS0FBSyxFQUFFO2dCQUNMLE9BQUEsS0FBSSxDQUFDLGdDQUFnQyxDQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQztZQUFuRSxDQUFtRTtZQUVyRSxNQUFNLEVBQUUsY0FBcUIsT0FBQSxLQUFJLENBQUMsY0FBYyxFQUFFLEVBQXJCLENBQXFCO1lBRWxELE1BQU0sRUFBRSxVQUFDLFFBQXFCO2dCQUM1QixPQUFBLEtBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQztZQUExQyxDQUEwQztZQUU1QyxvQkFBb0IsRUFBRTtnQkFDcEIsTUFBTSxFQUFFLFVBQUMsUUFBNkI7b0JBQ3BDLE9BQUEsS0FBSSxDQUFDLG9CQUFvQixDQUN2QiwrQkFBK0IsRUFDL0IsRUFBRSxFQUNGLFFBQVEsRUFDUix5Q0FBbUIsQ0FDcEI7Z0JBTEQsQ0FLQztnQkFFSCxHQUFHLEVBQUUsVUFBQyxFQUFVO29CQUNkLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhO29CQUN2Qiw2Q0FBNkM7b0JBQzFDLEtBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxnQ0FBMkIsRUFBSSxFQUMxRCx5Q0FBbUIsQ0FDcEI7Z0JBSkQsQ0FJQztnQkFFSCxJQUFJLEVBQUUsVUFDSixPQUE2QjtvQkFFN0IsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQ3RCLHdCQUF3QixFQUN4QixFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQ1gsNkNBQXVCLENBQ3hCO2dCQUpELENBSUM7YUFDSjtZQUVELFdBQVcsRUFBRTtnQkFDWCxNQUFNLEVBQUUsVUFBQyxFQUFVO29CQUNqQiw2Q0FBNkM7b0JBQzdDLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUksS0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLGlCQUFZLEVBQUksQ0FBQztnQkFBdkUsQ0FBdUU7YUFDMUU7WUFFRCxJQUFJLEVBQUU7Z0JBQ0osR0FBRyxFQUFFO29CQUNILE9BQUEsS0FBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLEVBQUUsRUFBRSwrQkFBYyxDQUFDO2dCQUE5RCxDQUE4RDthQUNqRTtZQUVELFFBQVEsRUFBRTtnQkFDUixJQUFJLEVBQUUsVUFDSixVQUFtQixFQUNuQixPQUE2QjtvQkFFN0IsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQ3RCLGVBQWUsRUFDZixFQUFFLFVBQVUsWUFBQSxFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQ3ZCLGlCQUFpQixDQUNsQjtnQkFKRCxDQUlDO2FBQ0o7WUFFRCxRQUFRLEVBQUU7Z0JBQ1IsR0FBRyxFQUFFO29CQUNILE9BQUEsS0FBSSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxFQUFFLEVBQUUseUNBQW1CLENBQUM7Z0JBQTdELENBQTZEO2dCQUUvRCxNQUFNLEVBQUUsVUFDTixRQUE2QixFQUM3QixpQkFBMkI7b0JBRTNCLE9BQUEsS0FBSSxDQUFDLG9CQUFvQixDQUN2QixpQkFBaUIsRUFDakIsRUFBRSxpQkFBaUIsbUJBQUEsRUFBRSxFQUNyQixRQUFRLEVBQ1IseUNBQW1CLENBQ3BCO2dCQUxELENBS0M7YUFDSjtZQUVELEtBQUssRUFBRTtnQkFDTCxHQUFHLEVBQUUsVUFBQyxNQUFlO29CQUNuQixPQUFBLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsRUFBRSxNQUFNLFFBQUEsRUFBRSxFQUFFLDZDQUFxQixDQUFDO2dCQUFwRSxDQUFvRTthQUN2RTtZQUVELGNBQWMsRUFBRTtnQkFDZCxHQUFHLEVBQUUsVUFBQyxFQW9CTDt3QkFuQkMsc0JBQXNCLEVBQXRCLGNBQWMsbUJBQUcsS0FBSyxLQUFBLEVBQ3RCLE9BQU8sYUFBQSxFQUNQLFNBQVMsZUFBQSxFQUNULFNBQVMsZUFBQSxFQUNULE9BQU8sYUFBQSxFQUNQLEtBQUssV0FBQSxFQUNMLE1BQU0sWUFBQSxFQUNOLElBQUksVUFBQSxFQUNKLGVBQWUscUJBQUE7b0JBWWYsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQ3RCLGNBQWMsRUFDZDt3QkFDRSxjQUFjLGdCQUFBO3dCQUNkLFNBQVMsV0FBQTt3QkFDVCxPQUFPLFNBQUE7d0JBQ1AsS0FBSyxPQUFBO3dCQUNMLE1BQU0sUUFBQTt3QkFDTixPQUFPLFNBQUE7d0JBQ1AsU0FBUyxXQUFBO3dCQUNULElBQUksTUFBQTt3QkFDSixlQUFlLGlCQUFBO3FCQUNoQixFQUNELHlEQUFnQyxDQUNqQztnQkFkRCxDQWNDO2FBQ0o7WUFFRCxVQUFVLEVBQUU7Z0JBQ1YsR0FBRyxFQUFFLFVBQUMsRUFnQkw7d0JBZkMsTUFBTSxZQUFBLEVBQ04sU0FBUyxlQUFBLEVBQ1QsT0FBTyxhQUFBLEVBQ1AsS0FBSyxXQUFBLEVBQ0wsTUFBTSxZQUFBLEVBQ04sSUFBSSxVQUFBLEVBQ0osZUFBZSxxQkFBQTtvQkFVZixPQUFBLEtBQUksQ0FBQyxtQkFBbUIsQ0FDdEIsVUFBVSxFQUNWO3dCQUNFLE9BQU8sU0FBQTt3QkFDUCxLQUFLLE9BQUE7d0JBQ0wsTUFBTSxRQUFBO3dCQUNOLE1BQU0sUUFBQTt3QkFDTixTQUFTLFdBQUE7d0JBQ1QsSUFBSSxNQUFBO3dCQUNKLGVBQWUsaUJBQUE7cUJBQ2hCLEVBQ0QsaURBQTRCLENBQzdCO2dCQVpELENBWUM7YUFDSjtZQUVELDBCQUEwQixFQUFFO2dCQUMxQixHQUFHLEVBQUUsVUFBQyxFQWNMO3dCQWJDLFNBQVMsZUFBQSxFQUNULE9BQU8sYUFBQSxFQUNQLEtBQUssV0FBQSxFQUNMLE1BQU0sWUFBQSxFQUNOLElBQUksVUFBQSxFQUNKLGVBQWUscUJBQUE7b0JBU2YsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQ3RCLDBCQUEwQixFQUMxQjt3QkFDRSxPQUFPLFNBQUE7d0JBQ1AsS0FBSyxPQUFBO3dCQUNMLE1BQU0sUUFBQTt3QkFDTixTQUFTLFdBQUE7d0JBQ1QsSUFBSSxNQUFBO3dCQUNKLGVBQWUsaUJBQUE7cUJBQ2hCLEVBQ0QsNkVBQTBDLENBQzNDO2dCQVhELENBV0M7YUFDSjtZQUNELDhCQUE4QixFQUFFO2dCQUM5QixHQUFHLEVBQUUsVUFBQyxFQWdCTDt3QkFmQyxNQUFNLFlBQUEsRUFDTixTQUFTLGVBQUEsRUFDVCxPQUFPLGFBQUEsRUFDUCxLQUFLLFdBQUEsRUFDTCxNQUFNLFlBQUEsRUFDTixJQUFJLFVBQUEsRUFDSixlQUFlLHFCQUFBO29CQVVmLE9BQUEsS0FBSSxDQUFDLG1CQUFtQixDQUN0Qiw4QkFBOEIsRUFDOUI7d0JBQ0UsT0FBTyxTQUFBO3dCQUNQLEtBQUssT0FBQTt3QkFDTCxNQUFNLFFBQUE7d0JBQ04sTUFBTSxRQUFBO3dCQUNOLFNBQVMsV0FBQTt3QkFDVCxJQUFJLE1BQUE7d0JBQ0osZUFBZSxpQkFBQTtxQkFDaEIsRUFDRCxtRkFBNkMsQ0FDOUM7Z0JBWkQsQ0FZQzthQUNKO1lBQ0QsYUFBYSxFQUFFO2dCQUNiLEdBQUcsRUFBRSxVQUFDLEVBVUw7d0JBVEMsU0FBUyxlQUFBLEVBQ1QsT0FBTyxhQUFBLEVBQ1AsSUFBSSxVQUFBLEVBQ0osZUFBZSxxQkFBQTtvQkFPZixPQUFBLEtBQUksQ0FBQyxtQkFBbUIsQ0FDdEIsYUFBYSxFQUNiO3dCQUNFLFNBQVMsV0FBQTt3QkFDVCxPQUFPLFNBQUE7d0JBQ1AsSUFBSSxNQUFBO3dCQUNKLGVBQWUsaUJBQUE7cUJBQ2hCLEVBQ0QsNkNBQXFCLENBQ3RCO2dCQVRELENBU0M7YUFDSjtZQUNELGdCQUFnQixFQUFFO2dCQUNoQixHQUFHLEVBQUUsVUFBQyxFQVVMO3dCQVRDLFNBQVMsZUFBQSxFQUNULE9BQU8sYUFBQSxFQUNQLElBQUksVUFBQSxFQUNKLGVBQWUscUJBQUE7b0JBT2YsT0FBQSxLQUFJLENBQUMsbUJBQW1CLENBQ3RCLGdCQUFnQixFQUNoQjt3QkFDRSxTQUFTLFdBQUE7d0JBQ1QsT0FBTyxTQUFBO3dCQUNQLElBQUksTUFBQTt3QkFDSixlQUFlLGlCQUFBO3FCQUNoQixFQUNELG1EQUF3QixDQUN6QjtnQkFURCxDQVNDO2FBQ0o7WUFDRCxpQkFBaUIsRUFBRTtnQkFDakIsR0FBRyxFQUFFLFVBQUMsRUFVTDt3QkFUQyxTQUFTLGVBQUEsRUFDVCxPQUFPLGFBQUEsRUFDUCxJQUFJLFVBQUEsRUFDSixlQUFlLHFCQUFBO29CQU9mLE9BQUEsS0FBSSxDQUFDLG1CQUFtQixDQUN0QixpQkFBaUIsRUFDakI7d0JBQ0UsU0FBUyxXQUFBO3dCQUNULE9BQU8sU0FBQTt3QkFDUCxJQUFJLE1BQUE7d0JBQ0osZUFBZSxpQkFBQTtxQkFDaEIsRUFDRCxtREFBd0IsQ0FDekI7Z0JBVEQsQ0FTQzthQUNKO1NBQ0YsQ0FBQzs7SUFDSixDQUFDO0lBQUQsa0JBQUM7QUFBRCxDQUFDLEFBaFZELENBQWlDLHlCQUFXLEdBZ1YzQztBQWhWWSxrQ0FBVztBQWtWeEI7O0dBRUc7QUFDSDtJQUF1QyxxQ0FBaUI7SUFDdEQsMkJBQVksSUFBVTtlQUNwQixrQkFBTSxTQUFTLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQztJQUNyQyxDQUFDO0lBQ0gsd0JBQUM7QUFBRCxDQUFDLEFBSkQsQ0FBdUMsV0FBSSxHQUkxQztBQUpZLDhDQUFpQiJ9