"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.ContentItemsFacets = exports.ContentItemsPage = exports.ContentItem = exports.FacetedContentItem = void 0;
var HalResource_1 = require("../hal/models/HalResource");
var ContentRepository_1 = require("./ContentRepository");
var LocalizationJob_1 = require("./LocalizationJob");
var Page_1 = require("./Page");
var Facets_1 = require("./Facets");
var HttpRequest_1 = require("../http/HttpRequest");
var BaseContentItem = /** @class */ (function (_super) {
    __extends(BaseContentItem, _super);
    function BaseContentItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Resources and actions related to a Content Item
         */
        _this.related = {
            /**
             * Retrieves a specific version of the content item
             * @param version Version number requested
             */
            contentItemVersion: function (version) {
                return _this.fetchLinkedResource('content-item-version', { version: version }, ContentItem);
            },
            /**
             * Retrieves the ContentRepository this content item is stored in
             */
            contentRepository: function () {
                return _this.fetchLinkedResource('content-repository', {}, ContentRepository_1.ContentRepository);
            },
            /**
             * Sets a locale of the form ll-CC (language, country code)
             * @param locale Locale code
             */
            setLocale: function (localeDefinition) {
                return _this.performActionThatReturnsResource('set-locale', {}, { locale: localeDefinition, version: _this.version }, ContentItem);
            },
            /**
             * Create localizations of the content item
             * @param locales Array of locales to create
             */
            localize: function (localesList) {
                return _this.performActionThatReturnsResource('create-localizations', {}, { locales: localesList, version: _this.version }, LocalizationJob_1.LocalizationJob);
            },
            /**
             * Get localizations of the content item
             */
            localizations: function (options) {
                return _this.fetchLinkedResource('localizations', options, ContentItemsPage);
            },
            /**
             * Updates this Content Item with the changes in the mutation parameter.
             * You must provide the current version number in the mutation
             * to avoid overwriting other user's changes.
             */
            update: function (mutation) {
                return _this.updateResource(mutation, ContentItem);
            },
            /**
             * Archive content item
             */
            archive: function () {
                return _this.performActionThatReturnsResource('archive', {}, { version: _this.version }, ContentItem);
            },
            /**
             * Unarchive content item
             */
            unarchive: function () {
                return _this.performActionThatReturnsResource('unarchive', {}, { version: _this.version }, ContentItem);
            },
            /**
             * Assign a WorkflowState
             */
            assignWorkflowState: function (workflowState) {
                return _this.performActionThatReturnsResource('edit-workflow', {}, { version: _this.version, state: workflowState.id }, ContentItem, HttpRequest_1.HttpMethod.PATCH);
            },
        };
        return _this;
    }
    return BaseContentItem;
}(HalResource_1.HalResource));
/**
 * Class representing a Faceted Content Item.
 * A faceted content item does not include a body, but includes the schema of the content item
 */
var FacetedContentItem = /** @class */ (function (_super) {
    __extends(FacetedContentItem, _super);
    function FacetedContentItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return FacetedContentItem;
}(BaseContentItem));
exports.FacetedContentItem = FacetedContentItem;
/**
 * Class representing the [Content Item](https://amplience.com/docs/api/dynamic-content/management/#tag/Content-Items) resource.
 * Content Items are instances of content created from a content type.
 */
var ContentItem = /** @class */ (function (_super) {
    __extends(ContentItem, _super);
    function ContentItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ContentItem;
}(BaseContentItem));
exports.ContentItem = ContentItem;
/**
 * @hidden
 */
var ContentItemsPage = /** @class */ (function (_super) {
    __extends(ContentItemsPage, _super);
    function ContentItemsPage(data) {
        return _super.call(this, 'content-items', ContentItem, data) || this;
    }
    return ContentItemsPage;
}(Page_1.Page));
exports.ContentItemsPage = ContentItemsPage;
/**
 * @hidden
 */
var ContentItemsFacets = /** @class */ (function (_super) {
    __extends(ContentItemsFacets, _super);
    function ContentItemsFacets(data) {
        return _super.call(this, 'content-items', FacetedContentItem, data) || this;
    }
    return ContentItemsFacets;
}(Facets_1.FacetsResponse));
exports.ContentItemsFacets = ContentItemsFacets;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEl0ZW0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL21vZGVsL0NvbnRlbnRJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBd0Q7QUFDeEQseURBQXdEO0FBQ3hELHFEQUFvRDtBQUNwRCwrQkFBOEI7QUFJOUIsbUNBQTBDO0FBRTFDLG1EQUFpRDtBQU1qRDtJQUF1QyxtQ0FBVztJQUFsRDtRQUFBLHFFQWlMQztRQTdGQzs7V0FFRztRQUNhLGFBQU8sR0FBRztZQUN4Qjs7O2VBR0c7WUFDSCxrQkFBa0IsRUFBRSxVQUFDLE9BQWU7Z0JBQ2xDLE9BQUEsS0FBSSxDQUFDLG1CQUFtQixDQUN0QixzQkFBc0IsRUFDdEIsRUFBRSxPQUFPLFNBQUEsRUFBRSxFQUNYLFdBQVcsQ0FDWjtZQUpELENBSUM7WUFFSDs7ZUFFRztZQUNILGlCQUFpQixFQUFFO2dCQUNqQixPQUFBLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLEVBQUUscUNBQWlCLENBQUM7WUFBckUsQ0FBcUU7WUFFdkU7OztlQUdHO1lBQ0gsU0FBUyxFQUFFLFVBQUMsZ0JBQXdCO2dCQUNsQyxPQUFBLEtBQUksQ0FBQyxnQ0FBZ0MsQ0FDbkMsWUFBWSxFQUNaLEVBQUUsRUFDRixFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsS0FBSSxDQUFDLE9BQU8sRUFBRSxFQUNuRCxXQUFXLENBQ1o7WUFMRCxDQUtDO1lBRUg7OztlQUdHO1lBQ0gsUUFBUSxFQUFFLFVBQUMsV0FBcUI7Z0JBQzlCLE9BQUEsS0FBSSxDQUFDLGdDQUFnQyxDQUNuQyxzQkFBc0IsRUFDdEIsRUFBRSxFQUNGLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsS0FBSSxDQUFDLE9BQU8sRUFBRSxFQUMvQyxpQ0FBZSxDQUNoQjtZQUxELENBS0M7WUFFSDs7ZUFFRztZQUNILGFBQWEsRUFBRSxVQUFDLE9BQWtCO2dCQUNoQyxPQUFBLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxlQUFlLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixDQUFDO1lBQXBFLENBQW9FO1lBRXRFOzs7O2VBSUc7WUFDSCxNQUFNLEVBQUUsVUFBQyxRQUFxQjtnQkFDNUIsT0FBQSxLQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUM7WUFBMUMsQ0FBMEM7WUFFNUM7O2VBRUc7WUFDSCxPQUFPLEVBQUU7Z0JBQ1AsT0FBQSxLQUFJLENBQUMsZ0NBQWdDLENBQ25DLFNBQVMsRUFDVCxFQUFFLEVBQ0YsRUFBRSxPQUFPLEVBQUUsS0FBSSxDQUFDLE9BQU8sRUFBRSxFQUN6QixXQUFXLENBQ1o7WUFMRCxDQUtDO1lBRUg7O2VBRUc7WUFDSCxTQUFTLEVBQUU7Z0JBQ1QsT0FBQSxLQUFJLENBQUMsZ0NBQWdDLENBQ25DLFdBQVcsRUFDWCxFQUFFLEVBQ0YsRUFBRSxPQUFPLEVBQUUsS0FBSSxDQUFDLE9BQU8sRUFBRSxFQUN6QixXQUFXLENBQ1o7WUFMRCxDQUtDO1lBRUg7O2VBRUc7WUFDSCxtQkFBbUIsRUFBRSxVQUFDLGFBQTRCO2dCQUNoRCxPQUFBLEtBQUksQ0FBQyxnQ0FBZ0MsQ0FDbkMsZUFBZSxFQUNmLEVBQUUsRUFDRixFQUFFLE9BQU8sRUFBRSxLQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFLEVBQ2xELFdBQVcsRUFDWCx3QkFBVSxDQUFDLEtBQUssQ0FDakI7WUFORCxDQU1DO1NBQ0osQ0FBQzs7SUFDSixDQUFDO0lBQUQsc0JBQUM7QUFBRCxDQUFDLEFBakxELENBQXVDLHlCQUFXLEdBaUxqRDtBQUVEOzs7R0FHRztBQUNIO0lBQXdDLHNDQUFlO0lBQXZEOztJQUtBLENBQUM7SUFBRCx5QkFBQztBQUFELENBQUMsQUFMRCxDQUF3QyxlQUFlLEdBS3REO0FBTFksZ0RBQWtCO0FBTy9COzs7R0FHRztBQUNIO0lBQWlDLCtCQUFlO0lBQWhEOztJQWlCQSxDQUFDO0lBQUQsa0JBQUM7QUFBRCxDQUFDLEFBakJELENBQWlDLGVBQWUsR0FpQi9DO0FBakJZLGtDQUFXO0FBbUJ4Qjs7R0FFRztBQUNIO0lBQXNDLG9DQUFpQjtJQUNyRCwwQkFBWSxJQUFVO2VBQ3BCLGtCQUFNLGVBQWUsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDO0lBQzNDLENBQUM7SUFDSCx1QkFBQztBQUFELENBQUMsQUFKRCxDQUFzQyxXQUFJLEdBSXpDO0FBSlksNENBQWdCO0FBTTdCOztHQUVHO0FBQ0g7SUFBd0Msc0NBQWtDO0lBQ3hFLDRCQUFZLElBQVU7ZUFDcEIsa0JBQU0sZUFBZSxFQUFFLGtCQUFrQixFQUFFLElBQUksQ0FBQztJQUNsRCxDQUFDO0lBQ0gseUJBQUM7QUFBRCxDQUFDLEFBSkQsQ0FBd0MsdUJBQWMsR0FJckQ7QUFKWSxnREFBa0IifQ==