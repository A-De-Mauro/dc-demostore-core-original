import { HalResource } from '../hal/models/HalResource';
import { Hub } from './Hub';
import { Page } from './Page';
/**
 * Class representing the [Webhook](https://amplience.com/docs/api/dynamic-content/management/#tag/Webhooks) resource.
 * A Webhook is a HTTP callback: a HTTP request that occurs when something happens; a simple event-notification via the HTTP protocol.
 */
export class Webhook extends HalResource {
    constructor() {
        super(...arguments);
        /**
         * Resources and actions related to a Webhook
         */
        this.related = {
            /**
             * Retrieves the Hub this webhook is stored in
             */
            hub: () => this.fetchLinkedResource('hub', {}, Hub),
            /**
             * Delete Webhook
             */
            delete: () => this.deleteResource(),
            /**
             * Updates this Webhook with the changes in the mutation parameter.
             * @param mutation
             */
            update: (mutation) => this.updateResource(mutation, Webhook),
        };
    }
    parse(data) {
        super.parse(data);
        if (this.headers) {
            this.headers.forEach((header) => {
                // secret can come back as null, lets convert this to false
                if (header.secret == null) {
                    header.secret = false;
                }
            });
        }
    }
}
/**
 * @hidden
 */
export class WebhooksPage extends Page {
    constructor(data) {
        super('webhooks', Webhook, data);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2ViaG9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvbW9kZWwvV2ViaG9vay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM1QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTlCOzs7R0FHRztBQUNILE1BQU0sT0FBTyxPQUFRLFNBQVEsV0FBVztJQUF4Qzs7UUFvREU7O1dBRUc7UUFDYSxZQUFPLEdBQUc7WUFDeEI7O2VBRUc7WUFDSCxHQUFHLEVBQUUsR0FBaUIsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQztZQUVqRTs7ZUFFRztZQUNILE1BQU0sRUFBRSxHQUFrQixFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUVsRDs7O2VBR0c7WUFDSCxNQUFNLEVBQUUsQ0FBQyxRQUFpQixFQUFvQixFQUFFLENBQzlDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQztTQUN6QyxDQUFDO0lBY0osQ0FBQztJQVpRLEtBQUssQ0FBQyxJQUFhO1FBQ3hCLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQzlCLDJEQUEyRDtnQkFDM0QsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLElBQUksRUFBRTtvQkFDekIsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7aUJBQ3ZCO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7Q0FDRjtBQWtFRDs7R0FFRztBQUNILE1BQU0sT0FBTyxZQUFhLFNBQVEsSUFBYTtJQUM3QyxZQUFZLElBQVU7UUFDcEIsS0FBSyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQztDQUNGIn0=